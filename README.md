<br><br>
쿠팡의 신선식품 리뷰 데이터를 활용하여 자연어 기반의 분류 모델개발<br>
리뷰의 감정을 분석해 소비자별점의 정확도를 출력<br>
이를 통해 소비자의 평가를 분석하여  별점과 리뷰간의 일관성을 검토하는데 사용 가능<br><br><br>

CNN과 GRU을 결합하여 긍부정 감정 분류기 모델 제작
<br><br>

# 쿠팡 리뷰 별점 분석기 App

이 프로젝트는 사용자가 입력한 **리뷰**을 분석하여, 문장의 긍/부정을 구분하여 **별점을 주는 시스템**입니다.

## ✨ 주요 기능
- **리뷰작성 및 별점입력:** 리뷰를 작성하고 해당 리뷰의 별점을 입력하면
- **형태소 분석 & 키워드 추출:** 자연어 처리를 이용해 핵심 단어를 추출
- **CNN+GRU 감정분석:** 리뷰의 감정을 분석하여 %로 표시. 긍정에 가까울수록 숫자가 커진다.
- **배경 이미지 & 스타일 적용된 GUI:** PyQt5 기반의 간단한 GUI 제공

---

## 🛠 코드의 주요 흐름

1. **UI 로드 및 초기화**:
   - `uic.loadUiType`을 통해 UI 파일을 불러옵니다.
   - `self.setupUi(self)`를 통해 UI를 설정하고, `QWidget`을 상속받은 `Exam` 클래스의 초기화 과정에서 각 UI 요소들을 준비합니다.

2. **모델 및 토크나이저 로드**:
   - `keras.models.load_model`을 사용해 학습된 딥러닝 모델을 불러옵니다.
   - `pickle`을 이용해 텍스트 데이터를 처리할 토크나이저를 불러옵니다.

3. **텍스트 전처리 (`preprocess_text` 메소드)**:
   - 사용자가 입력한 텍스트를 **시퀀스** 형태로 변환하고, 패딩을 적용하여 모델 입력에 맞게 전처리합니다.

4. **버튼 클릭 시 동작 (`btn_clicked_slot` 메소드)**:
   - 사용자가 입력한 리뷰 텍스트와 별점을 가져옵니다.
   - 리뷰 텍스트는 전처리된 후 모델에 입력되어 예측을 수행합니다.
   - 예측된 확률을 바탕으로 별점을 계산하고, 이를 별로 출력하여 사용자에게 보여줍니다.

5. **AI 예측 확률에 따른 별점 출력**:
   - 예측된 확률(`pred`)에 따라 별점을 1부터 5까지 매핑합니다.
     - `pred <= 0.2`: 1점 (매우 부정적)
     - `pred <= 0.4`: 2점 (부정적)
     - `pred <= 0.6`: 3점 (중립적)
     - `pred <= 0.8`: 4점 (긍정적)
     - `pred > 0.8`: 5점 (매우 긍정적)
   - AI 예측 별점은 `★` 기호로 표시되며, 프로그레스바를 통해 예측 확률을 시각적으로 보여줍니다.

6. **사용자 별점 출력**:
   - 사용자가 입력한 별점은 `★` 기호로 출력되어 사용자에게 표시됩니다.

7. **에러 처리**:
   - 예측 과정에서 발생할 수 있는 예외를 처리하며, 오류 발생 시 사용자에게 경고 메시지를 띄웁니다.


---

## 🖥 실행 방법
### 1️⃣ 필수 라이브러리 설치
```bash
pip install -r requirements.txt
```

### 2️⃣ 실행
```bash
python job06_Ui_print.py
```

---

## 📂 프로젝트 구조
```
📂 test                                  # 크롤링한 원본데이터 모음
📂 Star_rating_review
│
│── 📂 crawling_data                     # 학습 및 테스트 데이터 분리 파일
│
│── 📂 models                            # 학습된 모델 및 pickle모음
│
│── 📂 Star_All_data
│   ├── All_data.csv                      # 긍부정 모델 학습을 위한 취합 데이터
│
│── 📂 StopWord_data
│   ├── stopwords.csv                     # 불용어 처리용 파일
│
│
│── job01_crawling.py                     # 쿠팡리뷰 크롤링 자동화 코드
│── job02_DataMerging.py                  # 크롤링한 데이터 병합
│── job03_DataPreprocessing.py            # 데이터 전처리
│── job04_CNN_ModelTraining.py            # CNN+GRU 결합모델 학습 (성공한 코드)
│── job04_RNN_ModelTraining.py            # RNN 분류모델 학습 (실패한 코드)
│── job05_ModelPrediction.py              # 모델 테스트 코드
│── job06_Ui_print.py                     # UI실행 메인 코드
│
│
│── README.md                             # 프로젝트 설명 파일
│── requirements.txt                      # 설치해야 할 패키지 목록
│── review_ui.ui                          # PyQt5 UI 파일


```

---

## 📌 추가 개발 방향
✅ 검색 속도 최적화<br>
✅ 완성도를 위한 전체 수치조절<br>
⏳ 모바일 앱 제작

---

### 🤝 기여 방법
1. 프로젝트를 포크합니다.
2. 새로운 기능을 개발하고, 테스트합니다.
3. PR(Pull Request)을 생성합니다.

🙌 많은 관심과 기여 부탁드립니다!

---

### 추가 설명

## 🔹 RNN, LSTM, GRU 개요

RNN, LSTM, GRU는 순환 신경망(Recurrent Neural Network, RNN) 계열의 신경망 아키텍처를 가리키는 용어입니다. 이들을 통칭하여 "순환 신경망(RNN) 기반 모델" 또는 **"시퀀스 모델"**이라고 부를 수 있습니다.

### 각 모델의 특징:
- **RNN**: 기본적인 순환 신경망으로, 시퀀스 데이터를 처리할 수 있지만 장기 의존성(Long-Term Dependency) 문제 발생
- **LSTM (Long Short-Term Memory)**: RNN의 장기 의존성 문제를 해결하기 위해 셀 상태(cell state)와 게이트 구조를 도입한 개선된 모델
- **GRU (Gated Recurrent Unit)**: LSTM보다 구조가 간단하고 계산량이 적은 대안 모델, 성능은 유사하지만 학습 속도가 빠름

이들을 묶어서 "RNN 계열 모델" 또는 "순환 신경망 기반 구조"라고 부릅니다. 🚀

## 🔹 CNN (Convolutional Neural Network)

CNN은 이미지, 시계열 데이터, 자연어 처리(NLP) 등에서 특징을 추출하는 데 뛰어난 신경망입니다. 기본적으로 **Conv(합성곱) 연산**과 **Pooling(다운샘플링) 연산**을 이용하여 데이터를 압축하고 중요한 특징을 추출하는 방식으로 동작합니다.

### CNN의 주요 구성 요소:
- **Convolutional Layer (합성곱 층)**:
  - 입력 데이터에서 국소적인 특징을 추출하는 역할
  - 필터(커널)를 사용하여 입력 데이터를 스캔하며 특징을 학습
  - `Conv1D`, `Conv2D`, `Conv3D` 등 차원에 따라 변형됨

## CNN + GRU 조합의 장점
- **CNN**: 지역적인 특징(ngram 패턴)을 잘 잡음 → 텍스트의 단어 조합이나 특징을 학습
- **GRU**: 시퀀스의 문맥을 잘 이해 → 문장의 순서와 흐름을 파악

**CNN**으로 중요한 단어 조합을 추출한 뒤, **GRU**로 문맥을 이해하는 방식이기 때문에, 텍스트 감성 분석, 문서 분류, 리뷰 분석 같은 문제에 적합할 수 있습니다.

## 🔹 CNN + RNN (LSTM/GRU) 조합의 장점
- **CNN**:
  - 지역적 패턴을 잘 잡아내는 특징이 있어서 텍스트나 시계열 데이터에서 유용한 특징(Features)을 추출하는 데 강함.
  - **Convolution** 연산을 통해 `n-gram`(연속된 단어 패턴) 같은 정보도 효과적으로 잡아낼 수 있음.
  - 빠른 연산 속도로 처리할 수 있음.
  
- **RNN (LSTM/GRU)**:
  - CNN이 추출한 특징을 입력으로 받아 문맥(Context)이나 시퀀스(순차적 데이터) 정보를 학습하는 역할을 함.
  - 특히 **GRU**나 **LSTM**은 긴 문장에서 앞쪽 정보가 손실되지 않도록 **장기 의존성(Long-term dependency)**을 학습하는 데 강함.

## 실제 활용 예시
1. **텍스트 감성 분석 (Sentiment Analysis)**:
   - **CNN**이 주요 단어 패턴을 학습 → **RNN**이 문맥을 이해 → 긍정/부정 감성 분류
2. **기계 번역 (Machine Translation)**:
   - **CNN**으로 단어 관계를 파악 → **RNN**이 문장 단위의 흐름을 학습
3. **음성 인식 (Speech Recognition)**:
   - **CNN**으로 음성 스펙트로그램 특징 추출 → **RNN**이 시간 흐름을 고려하여 변환
4. **질문-답변 시스템 (Q&A Systems)**:
   - **CNN**이 핵심 키워드 추출 → **RNN**이 문맥을 기반으로 답변 생성

### 적용 사례: 쿠팡 리뷰 분석
**쿠팡 리뷰 데이터 분석**, **CNN**이 중요한 단어 패턴을 먼저 잡아주고, **GRU**가 리뷰의 전체 흐름(문맥)을 파악하는 역할
